{% extends 'base.html' %}

{% load static %}

{% block title %}
  	Parking Allotment
{% endblock title %}

{% block header %}
  	<h1 class="mt-4 md:ml-5 pb-2 md:text-left text-center font-bold text-3xl">Parking Allotment</h1>
{% endblock header %}

{% block content %}
	<section class="parking-allotment">
		<!-- Toggle Buttons and Status Box -->
		<div id="toggle-container" class="flex flex-col md:flex-row items-center justify-center md:justify-between px-6 md:px-12 py-6 gap-6 md:gap-12">
			<div class="flex gap-4">
			<button id="car-toggle" class="flex items-center justify-center gap-3 w-[180px] h-[60px] rounded-xl bg-red-600 text-white font-semibold shadow-md">
				<i class="fa-solid fa-car-side"></i>
				<span>4 - Wheels</span>
			</button>
			{% if user.is_admin %}
				<button id="live-toggle" class="flex items-center justify-center gap-3 w-[180px] h-[60px] rounded-xl bg-gray-200 text-black font-semibold shadow-md">
				<span>Live Feed</span>
				</button>
			{% endif %}
			</div>

			<!-- Status Container -->
			<div id="status-container">
			<div id="car-status" class="w-full md:w-[280px] h-[130px] bg-white border border-gray-300 rounded-lg shadow px-4 py-2 text-center flex flex-col justify-center">
				<p class="text-lg md:text-xl text-black-500">Available Parking</p>
				<p class="text-4xl font-bold text-black">10</p>
			</div>
			</div>
		</div>

		<!-- ================= CAR SECTION ================= -->
		<div id="car-section" class="section-content">
			<!-- Gray Horizontal Box -->
			<div class="pb-6 px-2 md:px-0">
				<div class="max-w-screen-lg mx-auto">
					<div class="bg-gray-400 h-16 rounded-lg mb-2 flex items-center justify-center text-white font-bold text-lg" style="width: calc(100% - 2rem);">
						College of Asian Islamic Studies
					</div>
				
					<!-- Top Row Parking Slots -->
					<div class="flex flex-col gap-1 mb-16 ml-16">
						<hr class="border-t-2 border-black mt-2" style="width: calc(64px * 10 + 2px * 9);" />
						
						<div class="flex justify-start gap-[2px]">
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P1</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P2</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P3</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P4</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P5</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P6</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P7</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P8</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P9</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P10</div>
						</div>
					</div>
				</div>
			</div>

			<div class="pb-6 px-2 md:px-0">
				<div class="max-w-screen-lg mx-auto flex flex-col lg:flex-row justify-center items-start gap-10">
					<!-- Middle Section -->
					<div class="flex flex-col gap-4">
						<div class="grid grid-cols-9 gap-[2px] mt-4">
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P11</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P12</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P13</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P14</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P15</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P16</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P17</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P18</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P19</div>
							<div class="col-span-9">
								<hr class="w-full h-[1px] bg-black my-[2px]" />
							</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P20</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P21</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P22</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P23</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P24</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P25</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P26</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P27</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P28</div>
						</div>

						<div class="h-20 md:h-32"></div>

						<!-- Down Section -->
						<div class="flex flex-col gap-1">
							<div class="flex flex-wrap gap-1">
								<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P29</div>
								<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P30</div>
								<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P31</div>
								<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P32</div>
								<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P33</div>
								<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P34</div>
								<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P35</div>
								<div class="bg-green-400 text-black rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P36</div>
								<div class="bg-red-500 text-white rounded-lg w-16 h-20 flex items-center justify-center font-bold text-sm">P37</div>
							</div>
							
							<hr class="border-t-2 border-black mt-1 w-full" />
							
							<!-- Down Horizontal Box -->
							<div class="bg-gray-400 h-16 rounded-lg mt-2 flex items-center justify-center text-white font-semibold text-sm" style="width: calc(100% - 2px);">
								MSA WMSU
							</div>
						</div>
					</div>

					<!-- Right Section -->
					<div class="flex gap-2">
						<div class="flex flex-col gap-2 pt-2">
							<div class="bg-green-400 text-black rounded-lg w-16 h-16 flex items-center justify-center font-bold text-sm">P38</div>
							<div class="bg-red-500 text-white rounded-lg w-16 h-16 flex items-center justify-center font-bold text-sm">P39</div>
							<div class="bg-green-400 text-black rounded-lg w-16 h-16 flex items-center justify-center font-bold text-sm">P40</div>
						</div>
						<div class="flex items-start pt-2">
							<div class="border-l-2 border-black mr-2" style="height: calc(64px * 3 + 8px * 2);"></div>
							<div class="flex flex-col gap-24">
								<div class="w-48 h-48 md:h-64 bg-gray-400 border border-gray-600 rounded-lg shadow-inner flex items-center justify-center">
									<p class="text-center text-white font-bold p-4">College of Criminal Justice Education</p>
								</div>
								<div class="w-48 h-48 md:h-64 bg-gray-400 border border-gray-600 rounded-lg shadow-inner flex items-center justify-center">
									<p class="text-center text-white font-bold p-4">WMSU ILS HS</p>
								</div>
							</div>
						</div>
					</div>
				</div>

				<!-- Description -->
				<div class="px-6 md:px-12 pb-10">
					<div class="flex flex-col gap-3">
						<div class="flex items-center gap-3">
							<div class="w-6 h-6 bg-red-500 rounded-full"></div>
							<span class="text-base font-semibold text-black">Occupied</span>
						</div>
						<div class="flex items-center gap-3">
							<div class="w-6 h-6 bg-green-500 rounded-full"></div>
							<span class="text-base font-semibold text-black">Vacant</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- ================= LIVE SECTION ================= -->
		<div id="live-section" class="section-content hidden">
			<div class="container mx-auto px-4 py-6">
				<div class="flex justify-end mb-6">
					<div class="w-full md:w-[320px] bg-gray-100 rounded-xl shadow-lg px-8 py-6 text-center">
					<p class="text-xl font-semibold mb-4">Parking Spots</p>
					<div class="flex items-center justify-center space-x-8">
						<span class="text-3xl font-bold">10</span>
						<div class="w-px h-10 bg-gray-400"></div>
						<span class="text-3xl font-bold">19</span>
					</div>
					</div>
				</div>
				<div class="w-full h-[80vh] bg-white border border-gray-300 rounded-lg shadow-md flex items-center justify-center mb-6">
					<p class="text-gray-500 text-xl">Live Feed Display</p>
				</div>
				<div class="flex justify-start">
					<button id="back-to-car" class="flex items-center gap-3 px-6 py-4 rounded-xl bg-red-600 text-white font-semibold shadow-md">
					Back to Visual Feed
					</button>
				</div>
			</div>
		</div>
	</section>
{% endblock %}

{% block script %}
  <script type="module" src="{% static 'javascript/parkingAllotment.js' %}"></script>
{% endblock script %}