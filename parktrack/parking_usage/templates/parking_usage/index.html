{% extends 'base.html' %}

{% block header %}
  <h1 class="mt-4 md:ml-5 pb-2 md:text-left text-center font-bold text-3xl">Parking Usage Dashboard</h1>
{% endblock header %}

{% block content %}
  <main class="h-screen w-full">
    <!-- Main Content -->
    <div class="p-6 space-y-6">

      <!-- Peak Occupancy Days Graph -->
      <section class="bg-white rounded-xl shadow-md p-8 max-w-[1600px] mx-auto">
        <h2 class="text-2xl font-bold mb-4">Peak Occupancy Days</h2>
        <hr class="mb-5 border-gray-300">
        <div class="h-[500px]">
          <canvas id="peakOccupancyChart"></canvas>
        </div>
      </section>

      <!-- Daily Vehicle Entries Table -->
      <section class="bg-white rounded-xl shadow-md p-8 max-w-[1600px] mx-auto">
        <h2 class="text-2xl font-bold mb-4">Daily Vehicle Entries</h2>
        <hr class="mb-5 border-gray-300">

        <div class="overflow-x-auto">
          <table class="min-w-full border-separate border-spacing-y-2">
            <thead>
              <tr class="bg-gray-100 text-gray-700 uppercase text-sm">
                <th class="px-4 py-2 text-left font-bold">Days</th>
                <th class="px-4 py-2 text-left font-bold">In</th>
                <th class="px-4 py-2 text-left font-bold">Out</th>
              </tr>
            </thead>
            <tbody class="text-gray-800">
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Monday</td>
                <td class="px-4 py-2">50</td>
                <td class="px-4 py-2">20</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Tuesday</td>
                <td class="px-4 py-2">33</td>
                <td class="px-4 py-2">13</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Wednesday</td>
                <td class="px-4 py-2">23</td>
                <td class="px-4 py-2">11</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Thursday</td>
                <td class="px-4 py-2">28</td>
                <td class="px-4 py-2">18</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Friday</td>
                <td class="px-4 py-2">26</td>
                <td class="px-4 py-2">19</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Saturday</td>
                <td class="px-4 py-2">15</td>
                <td class="px-4 py-2">8</td>
              </tr>
              <tr class="border-t border-gray-300">
                <td class="px-4 py-2 font-semibold">Sunday</td>
                <td class="px-4 py-2">9</td>
                <td class="px-4 py-2">5</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById('peakOccupancyChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat', 'Sun'],
          datasets: [{
            data: [50, 38, 27, 35, 18, 10, 4],
            backgroundColor: [
              '#991b1b', '#991b1b', '#6b7280', '#991b1b', '#6b7280', '#6b7280', '#6b7280'
            ],
            borderRadius: 8
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: { display: false }
          },
          scales: {
            y: {
              beginAtZero: true,
              ticks: { stepSize: 5 }
            }
          }
        }
      });
    </script>
  </main>
{% endblock %}